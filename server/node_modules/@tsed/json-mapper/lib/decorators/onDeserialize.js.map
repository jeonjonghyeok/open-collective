{"version":3,"file":"onDeserialize.js","sourceRoot":"","sources":["../../src/decorators/onDeserialize.ts"],"names":[],"mappings":";;;AAAA,yCAA2D;AAM3D;;;;;;;;;;;;;;;;;GAiBG;AACH,SAAgB,aAAa,CAAC,EAAyB;IACrD,OAAO,qBAAY,CAAC,CAAC,UAAU,EAAE,EAAE;QACjC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC;IACvD,CAAC,CAAC,CAAC;AACL,CAAC;AAJD,sCAIC","sourcesContent":["import {JsonHookContext, JsonEntityFn} from \"@tsed/schema\";\n\nexport interface OnDeserializeCallback {\n  (value: any, ctx: JsonHookContext): any;\n}\n\n/**\n * Call the function before property deserialization.\n *\n * ## Example\n *\n * ```typescript\n * class Model {\n *    @OnDeserialize(v => v + 1)\n *    property: string;\n * }\n * ```\n *\n * @returns {Function}\n * @decorator\n * @schema\n * @property\n * @param cb\n */\nexport function OnDeserialize(cb: OnDeserializeCallback): PropertyDecorator {\n  return JsonEntityFn((storedJson) => {\n    storedJson.itemSchema.$hooks.on(\"onDeserialize\", cb);\n  });\n}\n"]}