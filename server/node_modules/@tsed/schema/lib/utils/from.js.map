{"version":3,"file":"from.js","sourceRoot":"","sources":["../../src/utils/from.ts"],"names":[],"mappings":"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","sourcesContent":["import {isClass, Type} from \"@tsed/core\";\nimport {JsonEntityStore, JsonFormatTypes} from \"../domain\";\nimport {JsonSchema} from \"../domain/JsonSchema\";\n\nexport function from(type: Type<any> = Object) {\n  if (isClass(type) && []) {\n    const {schema} = JsonEntityStore.from(type);\n\n    schema.properties = function properties(obj: {[key: string]: JsonSchema}) {\n      Object.entries(obj).forEach(([propertyKey, propSchema]) => {\n        JsonEntityStore.from(type.prototype, propertyKey).schema.assign(propSchema);\n      });\n\n      return this;\n    };\n\n    return schema;\n  }\n\n  return JsonSchema.from({type});\n}\n\nexport function number() {\n  return from(Number);\n}\n\nexport function integer() {\n  return from(Number).integer();\n}\n\nexport function string() {\n  return from(String);\n}\n\nexport function boolean() {\n  return from(Boolean);\n}\n\nexport function date() {\n  return from(Date).format(JsonFormatTypes.DATE);\n}\n\nexport function datetime() {\n  return from(Date).format(JsonFormatTypes.DATE_TIME);\n}\n\nexport function time() {\n  return from(Date).format(JsonFormatTypes.TIME);\n}\n\nexport function email() {\n  return from(String).format(JsonFormatTypes.EMAIL);\n}\n\nexport function uri() {\n  return from(String).format(JsonFormatTypes.URI);\n}\n\nexport function url() {\n  return from(String).format(JsonFormatTypes.URL);\n}\n\nexport function array() {\n  return from(Array);\n}\n\nexport function map() {\n  return from(Map).unknown(true);\n}\n\nexport function set() {\n  return from(Array).uniqueItems(true);\n}\n\nexport function object(properties: {[key: string]: JsonSchema} = {}) {\n  return from(Object).properties(properties);\n}\n\nexport function any(...types: any[]) {\n  return from().any(...types);\n}\n"]}