{"version":3,"file":"useBeforeEach.js","sourceRoot":"","sources":["../../../../src/mvc/decorators/method/useBeforeEach.ts"],"names":[],"mappings":";;;AAAA,qCAA6H;AAC7H,2CAAsC;AAEtC;;;;;;;;;;;;;;;;;;;GAmBG;AACH,SAAgB,aAAa,CAAC,GAAG,IAAW;IAC1C,OAAO,CAAI,GAAG,aAAkC,EAAqC,EAAE;QACrF,QAAQ,sBAAe,CAAC,aAAa,CAAC,EAAE;YACtC,KAAK,qBAAc,CAAC,MAAM;gBACxB,OAAO,qBAAS,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC;YAE9C,KAAK,qBAAc,CAAC,KAAK;gBACvB,wBAAiB,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,qBAAS,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBACxD,MAAM;YAER;gBACE,MAAM,IAAI,+BAAwB,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;SACpE;IACH,CAAC,CAAC;AACJ,CAAC;AAdD,sCAcC","sourcesContent":["import {decorateMethodsOf, DecoratorParameters, decoratorTypeOf, DecoratorTypes, UnsupportedDecoratorType} from \"@tsed/core\";\nimport {UseBefore} from \"./useBefore\";\n\n/**\n * Mounts the specified middleware function or functions at the specified path: the middleware function is executed when\n * the base of the requested path matches `path.\n *\n * ```typescript\n * @Controller('/')\n * @UseBeforeEach(Middleware1)  // Called before each endpoint\n * export class Ctrl {\n *\n *    @Get('/')\n *    get() { }\n * }\n *\n * ```\n *\n * @returns {Function}\n * @param args\n * @decorator\n * @operation\n */\nexport function UseBeforeEach(...args: any[]): Function {\n  return <T>(...decoratorArgs: DecoratorParameters): TypedPropertyDescriptor<T> | void => {\n    switch (decoratorTypeOf(decoratorArgs)) {\n      case DecoratorTypes.METHOD:\n        return UseBefore(...args)(...decoratorArgs);\n\n      case DecoratorTypes.CLASS:\n        decorateMethodsOf(decoratorArgs[0], UseBefore(...args));\n        break;\n\n      default:\n        throw new UnsupportedDecoratorType(UseBeforeEach, decoratorArgs);\n    }\n  };\n}\n"]}