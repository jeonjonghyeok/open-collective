{"version":3,"file":"locals.js","sourceRoot":"","sources":["../../../../src/mvc/decorators/params/locals.ts"],"names":[],"mappings":";;;AAAA,wDAAmD;AACnD,yCAAoC;AACpC,mEAA8D;AA4C9D,SAAgB,MAAM,CAAC,GAAG,IAAW;IACnC,MAAM,EAAC,UAAU,EAAE,OAAO,EAAE,YAAY,GAAG,KAAK,EAAE,aAAa,GAAG,KAAK,EAAC,GAAG,mCAAgB,CAAC,IAAI,CAAC,CAAC;IAElG,OAAO,mBAAQ,CAAC,uBAAU,CAAC,MAAM,EAAE;QACjC,UAAU;QACV,OAAO;QACP,YAAY;QACZ,aAAa;KACd,CAAC,CAAC;AACL,CAAC;AATD,wBASC","sourcesContent":["import {ParamTypes} from \"../../models/ParamTypes\";\nimport {UseParam} from \"./useParam\";\nimport {mapParamsOptions} from \"../../utils/mapParamsOptions\";\n\n/**\n * Locals return the value from [response.locals](http://expressjs.com/en/4x/api.html#res.locals) object.\n *\n * ::: tip\n * Locals are generally used by express and third-party like templating engine to render a page/template.\n * See [Templating](http://tsed.io/tutorials/templating.html) section for more details.\n * :::\n *\n * #### Example\n *\n * ```typescript\n *  * @Middleware()\n * class LocalsMiddleware {\n *   use(@Locals() locals: any) {\n *      // set some on locals\n *      locals.user = \"user\"\n *   }\n * }\n *\n * @Controller('/')\n * @UseBefore(LocalsMiddleware)\n * class MyCtrl {\n *    @Get('/')\n *    @Render('home.ejs') // will use locals and returned data to render the page\n *    get(@Locals('user') user: any) {\n *       console.log('user', user);\n *\n *       return {\n *         description: 'Hello world'\n *       }\n *    }\n * }\n * ```\n *\n * @param expression The path of the property to get.\n * @decorator\n * @operation\n * @input\n * @response\n */\nexport function Locals(expression: string): ParameterDecorator;\nexport function Locals(): ParameterDecorator;\nexport function Locals(...args: any[]): ParameterDecorator {\n  const {expression, useType, useConverter = false, useValidation = false} = mapParamsOptions(args);\n\n  return UseParam(ParamTypes.LOCALS, {\n    expression,\n    useType,\n    useConverter,\n    useValidation\n  });\n}\n"]}