{"version":3,"file":"response.js","sourceRoot":"","sources":["../../../../src/mvc/decorators/params/response.ts"],"names":[],"mappings":";;;AAAA,qCAAqD;AACrD,+BAAoC;AACpC,wDAAmD;AACnD,yCAAoC;AAEpC,SAAS,YAAY,CAAC,MAAc,EAAE,WAA4B,EAAE,cAAsB;IACxF,MAAM,IAAI,GAAG,eAAQ,CAAC,gBAAgB,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,cAAc,CAAC,CAAC;IAE5E,IAAI,cAAO,CAAC,IAAI,CAAC,EAAE;QACjB,IAAI,aAAM,CAAC,IAAI,CAAC,KAAK,kBAAkB,EAAE;YACvC,OAAO,uBAAU,CAAC,iBAAiB,CAAC;SACrC;QAED,IAAI,IAAI,KAAK,qBAAc,EAAE;YAC3B,OAAO,uBAAU,CAAC,aAAa,CAAC;SACjC;KACF;IAED,OAAO,uBAAU,CAAC,QAAQ,CAAC;AAC7B,CAAC;AAWD,SAAgB,QAAQ;IACtB,OAAO,GAAG,EAAE,CAAC;AACf,CAAC;AAFD,4BAEC;AAYD,SAAgB,GAAG;IACjB,OAAO,CAAC,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,EAAE;QAC7C,mBAAQ,CAAC,YAAY,CAAC,MAAM,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC,CAAC,MAAM,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC;IACnG,CAAC,CAAC;AACJ,CAAC;AAJD,kBAIC","sourcesContent":["import {isClass, Metadata, nameOf} from \"@tsed/core\";\nimport {ServerResponse} from \"http\";\nimport {ParamTypes} from \"../../models/ParamTypes\";\nimport {UseParam} from \"./useParam\";\n\nfunction getParamType(target: Object, propertyKey: string | symbol, parameterIndex: number) {\n  const type = Metadata.getOwnParamTypes(target, propertyKey)[parameterIndex];\n\n  if (isClass(type)) {\n    if (nameOf(type) === \"PlatformResponse\") {\n      return ParamTypes.PLATFORM_RESPONSE;\n    }\n\n    if (type === ServerResponse) {\n      return ParamTypes.NODE_RESPONSE;\n    }\n  }\n\n  return ParamTypes.RESPONSE;\n}\n\n/**\n * Response service.\n *\n * @decorator\n * @operation\n * @input\n * @response\n */\nexport function Response(): ParameterDecorator;\nexport function Response(): ParameterDecorator {\n  return Res();\n}\n\n/**\n * Request service.\n *\n * @alias Response\n * @decorator\n * @operation\n * @input\n * @response\n */\nexport function Res(): ParameterDecorator;\nexport function Res(): ParameterDecorator {\n  return (target, propertyKey, parameterIndex) => {\n    UseParam(getParamType(target, propertyKey, parameterIndex))(target, propertyKey, parameterIndex);\n  };\n}\n\n/**\n * Response service.\n *\n * @decorator\n * @operation\n * @input\n * @response\n */\nexport interface Response extends TsED.Response {}\n\n/**\n * Response service.\n *\n * @alias Response\n * @decorator\n * @operation\n * @input\n * @response\n */\nexport interface Res extends Response {}\n"]}