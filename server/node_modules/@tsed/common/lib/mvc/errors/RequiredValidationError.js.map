{"version":3,"file":"RequiredValidationError.js","sourceRoot":"","sources":["../../../src/mvc/errors/RequiredValidationError.ts"],"names":[],"mappings":";;;AACA,qCAAkC;AAClC,uDAAkD;AAElD,MAAa,uBAAwB,SAAQ,iCAAe;IAA5D;;QACS,SAAI,GAAW,2BAA2B,CAAC;IAwBpD,CAAC;IArBC,MAAM,CAAC,IAAI,CAAC,QAAuB;QACjC,MAAM,IAAI,GAAG,aAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACtC,MAAM,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;QACvC,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,uBAAuB,EAAE,EAAE,CAAC,CAAC;QACrE,MAAM,OAAO,GAAG,sCAAsC,UAAU,GAAG,CAAC;QAEpE,MAAM,MAAM,GAAG;YACb;gBACE,QAAQ,EAAE,EAAE;gBACZ,OAAO,EAAE,UAAU;gBACnB,OAAO;gBACP,SAAS,EAAE,IAAI;gBACf,MAAM,EAAE;oBACN,eAAe,EAAE,UAAU;iBAC5B;gBACD,UAAU,EAAE,YAAY;aACzB;SACF,CAAC;QAEF,OAAO,IAAI,uBAAuB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IACtD,CAAC;CACF;AAzBD,0DAyBC","sourcesContent":["import {ParamMetadata} from \"../models/ParamMetadata\";\nimport {nameOf} from \"@tsed/core\";\nimport {ValidationError} from \"./ValidationError\";\n\nexport class RequiredValidationError extends ValidationError {\n  public name: string = \"REQUIRED_VALIDATION_ERROR\";\n  public errors: any[];\n\n  static from(metadata: ParamMetadata) {\n    const name = nameOf(metadata.service);\n    const expression = metadata.expression;\n    const type = name.toLowerCase().replace(/parse|params|filter/gi, \"\");\n    const message = `It should have required parameter '${expression}'`;\n\n    const errors = [\n      {\n        dataPath: \"\",\n        keyword: \"required\",\n        message,\n        modelName: type,\n        params: {\n          missingProperty: expression\n        },\n        schemaPath: \"#/required\"\n      }\n    ];\n\n    return new RequiredValidationError(message, errors);\n  }\n}\n"]}