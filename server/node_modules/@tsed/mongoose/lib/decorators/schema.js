"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MongooseSchema = exports.Schema = void 0;
const common_1 = require("@tsed/common");
const core_1 = require("@tsed/core");
const constants_1 = require("../constants");
const createSchema_1 = require("../utils/createSchema");
function Schema(options = {}) {
    return (...parameters) => {
        switch (core_1.getDecoratorType(parameters)) {
            case "property":
                return core_1.applyDecorators(common_1.Property(), core_1.StoreMerge(constants_1.MONGOOSE_SCHEMA, options))(...parameters);
            case "class":
                core_1.StoreMerge(constants_1.MONGOOSE_SCHEMA, createSchema_1.createSchema(parameters[0], options))(...parameters);
                break;
        }
    };
}
exports.Schema = Schema;
function MongooseSchema(options = {}) {
    return Schema(options);
}
exports.MongooseSchema = MongooseSchema;
//# sourceMappingURL=schema.js.map